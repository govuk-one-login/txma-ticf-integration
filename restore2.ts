/* eslint-disable no-console */
import {
  HeadObjectCommand,
  RestoreObjectCommand,
  RestoreObjectCommandInput,
  S3Client
} from '@aws-sdk/client-s3'

const payload = {
  level: 'INFO',
  message: 'glacierTierLocationsToCopy',
  service: 'service_undefined',
  timestamp: '2024-05-03T16:00:10.482Z',
  glacierTierLocationsToCopy: [
    'firehose/2024/01/31/23/audit-message-batch-36-2024-01-31-23-54-30-d8db429f-5d8f-4796-b949-9105c1a6a40a.gz',
    'firehose/2024/02/01/00/audit-message-batch-36-2024-02-01-00-08-38-f7e81d1f-2db2-45c8-a571-92fe74450c1f.gz',
    'firehose/2024/02/01/00/audit-message-batch-36-2024-02-01-00-22-48-3dc679bb-8e3e-4648-9967-8a40244b3764.gz',
    'firehose/2024/02/01/00/audit-message-batch-36-2024-02-01-00-37-02-3f96d23f-dd57-4fb0-b1cc-2bb0c5894a7a.gz',
    'firehose/2024/02/01/00/audit-message-batch-36-2024-02-01-00-51-17-e9e1b6d5-144e-49ae-97dd-4a25ba163ae5.gz',
    'firehose/2024/02/01/01/audit-message-batch-36-2024-02-01-01-05-30-54370061-c043-40f6-aca2-4e7b5c7bee50.gz',
    'firehose/2024/02/01/01/audit-message-batch-36-2024-02-01-01-19-44-de6267a1-438d-4b51-bcbf-a22f5dce9725.gz',
    'firehose/2024/02/01/01/audit-message-batch-36-2024-02-01-01-34-03-0beb1e1d-1b5a-4dd3-b352-3b2197b91d90.gz',
    'firehose/2024/02/01/01/audit-message-batch-36-2024-02-01-01-48-26-def264a5-484a-4e4c-a501-88bf645d1b18.gz',
    'firehose/2024/02/01/02/audit-message-batch-36-2024-02-01-02-02-49-2e011e71-899c-4725-af4e-cb752f043314.gz',
    'firehose/2024/02/01/02/audit-message-batch-36-2024-02-01-02-17-10-e3f1f645-8e4e-4b1a-9166-df43a0573092.gz',
    'firehose/2024/02/01/02/audit-message-batch-36-2024-02-01-02-31-26-ade55653-b91d-422d-97b8-e63ea7afb157.gz',
    'firehose/2024/02/01/02/audit-message-batch-36-2024-02-01-02-45-42-4e763631-4de5-46d1-adfb-c4d119ea3da1.gz',
    'firehose/2024/02/01/02/audit-message-batch-36-2024-02-01-02-59-57-5eac2260-1053-43fb-8d70-e6539edb71c5.gz',
    'firehose/2024/02/01/03/audit-message-batch-36-2024-02-01-03-14-14-7a1cf8e9-89bc-46d2-a6ec-6a3ed0b23c2b.gz',
    'firehose/2024/02/01/03/audit-message-batch-36-2024-02-01-03-28-39-bc2a37b9-df86-4bd8-bf5a-d591e797e511.gz',
    'firehose/2024/02/01/03/audit-message-batch-36-2024-02-01-03-43-06-a159cd0e-440e-4fe7-9047-23b903d6a765.gz',
    'firehose/2024/02/01/03/audit-message-batch-36-2024-02-01-03-57-25-252aeb8b-22c9-4707-bb79-21582412ae5c.gz',
    'firehose/2024/02/01/04/audit-message-batch-36-2024-02-01-04-11-41-2624949c-8572-4aca-bffc-901e64f4a024.gz',
    'firehose/2024/02/01/04/audit-message-batch-36-2024-02-01-04-26-05-8eeb9ad8-9901-4161-852c-502c0ca6c7af.gz',
    'firehose/2024/02/01/04/audit-message-batch-36-2024-02-01-04-40-21-03b1dee0-fc8b-4808-b336-7b51edfdb182.gz',
    'firehose/2024/02/01/04/audit-message-batch-36-2024-02-01-04-54-33-9f436ea2-e280-4718-9a1b-80dcd675ebb9.gz',
    'firehose/2024/02/01/05/audit-message-batch-36-2024-02-01-05-08-47-5a667b5c-5513-4751-b7f4-d424f8d23fda.gz',
    'firehose/2024/02/01/05/audit-message-batch-36-2024-02-01-05-23-09-2f2bedeb-613c-4262-b297-b5f532415907.gz',
    'firehose/2024/02/01/05/audit-message-batch-36-2024-02-01-05-37-26-7d990a5b-aee2-4cc4-88eb-82b911cf5ea6.gz',
    'firehose/2024/02/01/05/audit-message-batch-36-2024-02-01-05-51-45-9f7b63df-c07b-4bec-b43a-39fff92405af.gz',
    'firehose/2024/02/01/06/audit-message-batch-36-2024-02-01-06-06-08-ce887083-b2d7-4f23-9b57-2667376e4c21.gz',
    'firehose/2024/02/01/06/audit-message-batch-36-2024-02-01-06-20-22-b09a7405-c9f7-4dfa-bce8-fde9315265ea.gz',
    'firehose/2024/02/01/06/audit-message-batch-36-2024-02-01-06-34-35-78d65a0f-11a9-44ae-b742-0a3fc675b50f.gz',
    'firehose/2024/02/01/06/audit-message-batch-36-2024-02-01-06-48-57-f9c6d67c-33f1-4450-b7a8-07255e41877e.gz',
    'firehose/2024/02/01/07/audit-message-batch-36-2024-02-01-07-03-11-bb3aef2e-a327-49ad-884c-4dcca277fc94.gz',
    'firehose/2024/02/01/07/audit-message-batch-36-2024-02-01-07-17-16-0696cce9-d6cd-482a-a98c-03feb860b76e.gz',
    'firehose/2024/02/01/07/audit-message-batch-36-2024-02-01-07-31-23-da9985fa-4089-42a9-9b89-7f4c328fc624.gz',
    'firehose/2024/02/01/07/audit-message-batch-36-2024-02-01-07-45-30-68f23e7a-1ccb-4d98-9699-33534a9563a3.gz',
    'firehose/2024/02/01/07/audit-message-batch-36-2024-02-01-07-59-36-e55fee97-8f63-492d-8470-d864285cd2d4.gz',
    'firehose/2024/02/01/08/audit-message-batch-36-2024-02-01-08-14-31-ef937ec5-00d3-487e-b577-872fc79531f7.gz',
    'firehose/2024/02/01/08/audit-message-batch-36-2024-02-01-08-29-21-57fc459b-7137-4ad0-a1ba-c38c49e5481b.gz',
    'firehose/2024/02/01/08/audit-message-batch-36-2024-02-01-08-44-13-488aff4e-b657-4b13-8199-ecde4ddabe06.gz',
    'firehose/2024/02/01/08/audit-message-batch-36-2024-02-01-08-58-14-082b66f6-4240-412b-af2c-40734e57c06e.gz',
    'firehose/2024/02/01/09/audit-message-batch-36-2024-02-01-09-12-51-f66ffe82-7612-4175-b628-4a40d59f188d.gz',
    'firehose/2024/02/01/09/audit-message-batch-36-2024-02-01-09-27-10-eaa53f5d-b679-41cf-8b34-6ad0604e70ab.gz',
    'firehose/2024/02/01/09/audit-message-batch-36-2024-02-01-09-41-38-67ad192b-5eb3-4a9a-b540-83ad09900c11.gz',
    'firehose/2024/02/01/09/audit-message-batch-36-2024-02-01-09-56-27-acdf9835-ee71-40c9-9924-59d5324a76ba.gz',
    'firehose/2024/02/01/10/audit-message-batch-36-2024-02-01-10-11-15-ed5d7bbb-7aaa-41f9-9f91-64f7cdc813c7.gz',
    'firehose/2024/02/01/10/audit-message-batch-36-2024-02-01-10-26-08-6111486b-cb20-4a1b-b827-6b359b574bd5.gz',
    'firehose/2024/02/01/10/audit-message-batch-36-2024-02-01-10-40-49-957ba200-1bef-4e33-9752-868c0e844302.gz',
    'firehose/2024/02/01/10/audit-message-batch-36-2024-02-01-10-55-45-428cd5d5-8ab0-4960-a25e-101d5014a4ed.gz',
    'firehose/2024/02/01/11/audit-message-batch-36-2024-02-01-11-10-31-35e8deb9-8564-45d9-8d00-e3e5093dad4d.gz',
    'firehose/2024/02/01/11/audit-message-batch-36-2024-02-01-11-25-17-ab5345fc-538f-4284-8ac6-eaa8794452d9.gz',
    'firehose/2024/02/01/11/audit-message-batch-36-2024-02-01-11-39-55-d6bb6695-8aa1-4f52-9163-492a3bf4e229.gz',
    'firehose/2024/02/01/11/audit-message-batch-36-2024-02-01-11-54-53-7b7ecdcc-538a-4801-961b-abea502f0eb0.gz',
    'firehose/2024/02/01/12/audit-message-batch-36-2024-02-01-12-09-34-c8886206-aff2-49d5-90df-240f79b89bda.gz',
    'firehose/2024/02/01/12/audit-message-batch-36-2024-02-01-12-24-31-59ca4db6-86b3-4e4b-b871-e112275e6aff.gz',
    'firehose/2024/02/01/12/audit-message-batch-36-2024-02-01-12-39-20-4e0a099a-7998-4bad-81af-3022871e1216.gz',
    'firehose/2024/02/01/12/audit-message-batch-36-2024-02-01-12-53-59-9252db12-16c7-4b39-879c-97d9f84b73ee.gz',
    'firehose/2024/02/01/13/audit-message-batch-36-2024-02-01-13-08-41-be57cf98-bd4e-4731-a341-8ebc6f4e8f3b.gz',
    'firehose/2024/02/01/13/audit-message-batch-36-2024-02-01-13-23-11-025aaae9-5fc6-4d6c-baf8-b5323570b512.gz',
    'firehose/2024/02/01/13/audit-message-batch-36-2024-02-01-13-37-46-3ae8247f-6b87-45db-8f34-a945593d174b.gz',
    'firehose/2024/02/01/13/audit-message-batch-36-2024-02-01-13-52-21-3eecb4fe-c301-43d7-91f5-dfc1874c582f.gz',
    'firehose/2024/02/01/14/audit-message-batch-36-2024-02-01-14-07-16-d4835b81-918b-400e-945d-a55dd4f62c43.gz',
    'firehose/2024/02/01/14/audit-message-batch-36-2024-02-01-14-22-15-d135c91d-89c4-4796-b2f9-0f9e847fc66e.gz',
    'firehose/2024/02/01/14/audit-message-batch-36-2024-02-01-14-36-50-addcb4d4-5e92-449f-a0fd-ff3649bf1ae0.gz',
    'firehose/2024/02/01/14/audit-message-batch-36-2024-02-01-14-51-34-ce883948-9ee8-409c-8a3b-bfc2d2c5ea11.gz',
    'firehose/2024/02/01/15/audit-message-batch-36-2024-02-01-15-06-14-85478ca4-1962-464d-95e1-a9c944bb9493.gz',
    'firehose/2024/02/01/15/audit-message-batch-36-2024-02-01-15-20-54-81dbe8de-2c07-4286-a250-5a167c14665e.gz',
    'firehose/2024/02/01/15/audit-message-batch-36-2024-02-01-15-35-50-b8477fd0-a396-4d9b-b2cd-4fd8a6ca390b.gz',
    'firehose/2024/02/01/15/audit-message-batch-36-2024-02-01-15-50-18-e10ceadb-3ea1-4c8c-bf58-b19fde518e07.gz',
    'firehose/2024/02/01/16/audit-message-batch-36-2024-02-01-16-05-04-eec7a40e-6921-4657-89e9-aec96ad6f5e0.gz',
    'firehose/2024/02/01/16/audit-message-batch-36-2024-02-01-16-19-34-b13f733b-ea55-4a31-ae74-75b4e6a65879.gz',
    'firehose/2024/02/01/16/audit-message-batch-36-2024-02-01-16-34-06-627424a0-f027-45c0-8c42-e97483b589de.gz',
    'firehose/2024/02/01/16/audit-message-batch-36-2024-02-01-16-48-38-db7578fb-024b-4e82-b45e-4af101599d36.gz',
    'firehose/2024/02/01/17/audit-message-batch-36-2024-02-01-17-03-09-6704281b-7716-4152-99b4-324d90d8f2c9.gz',
    'firehose/2024/02/01/17/audit-message-batch-36-2024-02-01-17-17-45-c739317f-0d97-4558-be02-ff9bf1d3afc3.gz',
    'firehose/2024/02/01/17/audit-message-batch-36-2024-02-01-17-32-28-bdb44b23-3d0a-4449-8633-110058dacda7.gz',
    'firehose/2024/02/01/17/audit-message-batch-36-2024-02-01-17-46-47-c432b915-3fa6-49a5-8f19-b1e9685e2272.gz',
    'firehose/2024/02/01/18/audit-message-batch-36-2024-02-01-18-01-19-9fa1c619-4825-45a0-8685-2d480808e2ff.gz',
    'firehose/2024/02/01/18/audit-message-batch-36-2024-02-01-18-16-04-d58bc471-ebda-4f09-91f9-bdaf25206748.gz',
    'firehose/2024/02/01/18/audit-message-batch-36-2024-02-01-18-30-26-08fe732c-8d87-48c1-b604-8620e0421f93.gz',
    'firehose/2024/02/01/18/audit-message-batch-36-2024-02-01-18-45-19-502e4272-dbdd-4425-a309-9c44aa25b968.gz',
    'firehose/2024/02/01/19/audit-message-batch-36-2024-02-01-19-00-16-3612ef2e-80da-4eb1-b8bc-f9aee955e6c6.gz',
    'firehose/2024/02/01/19/audit-message-batch-36-2024-02-01-19-15-04-7e510ca1-95e5-433a-9d5e-c247f360ca6b.gz',
    'firehose/2024/02/01/19/audit-message-batch-36-2024-02-01-19-30-02-300248a3-6672-4335-a2e1-26a00a6d027d.gz',
    'firehose/2024/02/01/19/audit-message-batch-36-2024-02-01-19-44-32-c2dfb8e7-ce4b-4dc2-9209-a41dc5c70191.gz',
    'firehose/2024/02/01/19/audit-message-batch-36-2024-02-01-19-59-10-4fa68395-51b9-4efe-8a9c-d4fd4ac03c0f.gz',
    'firehose/2024/02/01/20/audit-message-batch-36-2024-02-01-20-13-30-e9d6b4d0-cb56-47ff-9df2-9b5e27f558ff.gz',
    'firehose/2024/02/01/20/audit-message-batch-36-2024-02-01-20-27-58-ce6effc0-7c3f-4760-b4e8-f8c6bdb11ff2.gz',
    'firehose/2024/02/01/20/audit-message-batch-36-2024-02-01-20-42-44-7affaf08-3a27-45b5-a628-28ceee5860d5.gz',
    'firehose/2024/02/01/20/audit-message-batch-36-2024-02-01-20-57-28-7365fbe9-c7a6-4a59-9f3a-508b85809f8f.gz',
    'firehose/2024/02/01/21/audit-message-batch-36-2024-02-01-21-11-48-074372ce-f398-487c-9c8f-3e4ebf075cb4.gz',
    'firehose/2024/02/01/21/audit-message-batch-36-2024-02-01-21-25-50-6595ccda-12c1-426d-abf8-49381f704e64.gz',
    'firehose/2024/02/01/21/audit-message-batch-36-2024-02-01-21-40-16-197172ea-1339-48f3-8fbd-c2a4a3250c3c.gz',
    'firehose/2024/02/01/21/audit-message-batch-36-2024-02-01-21-55-13-3f62c886-b9f7-490e-9fa1-3ce3e6025360.gz',
    'firehose/2024/02/01/22/audit-message-batch-36-2024-02-01-22-09-13-1ac6d282-41cf-49c1-8817-d85ef86c2030.gz',
    'firehose/2024/02/01/22/audit-message-batch-36-2024-02-01-22-23-19-a60eea1d-95f9-4adc-9d23-1cad1b36f841.gz',
    'firehose/2024/02/01/22/audit-message-batch-36-2024-02-01-22-37-25-ce9cb964-1d68-4f31-9153-a30c2974206d.gz',
    'firehose/2024/02/01/22/audit-message-batch-36-2024-02-01-22-51-31-a8b588ad-656a-4ba8-9e22-617a3a15a101.gz',
    'firehose/2024/02/01/23/audit-message-batch-36-2024-02-01-23-05-40-0a7cbd9a-e4c5-4eac-88d1-8d72dc122d67.gz',
    'firehose/2024/02/01/23/audit-message-batch-36-2024-02-01-23-19-48-797b557d-05ea-41e4-a2b2-b835cc593274.gz',
    'firehose/2024/02/01/23/audit-message-batch-36-2024-02-01-23-33-57-9b659dc0-d7be-4137-9dd7-b89a59808e48.gz',
    'firehose/2024/02/01/23/audit-message-batch-36-2024-02-01-23-48-08-4a61d558-9876-47dc-ae50-f385e88afb0b.gz',
    'firehose/2024/02/02/00/audit-message-batch-36-2024-02-02-00-02-24-210d59a9-30ce-4715-b640-7fc621c87afe.gz',
    'firehose/2024/02/02/00/audit-message-batch-36-2024-02-02-00-16-48-76a96679-fcea-4339-afff-5764b9b88fd9.gz',
    'firehose/2024/02/02/00/audit-message-batch-36-2024-02-02-00-31-06-cd5b4c5f-97be-4d36-9dce-7f047104f008.gz',
    'firehose/2024/02/02/00/audit-message-batch-36-2024-02-02-00-45-22-488b3e04-c71b-4d69-b792-fcaeb63144e2.gz',
    'firehose/2024/02/02/00/audit-message-batch-36-2024-02-02-00-59-32-de439048-aad1-4b2c-9a36-62814645887b.gz',
    'firehose/2024/02/02/01/audit-message-batch-36-2024-02-02-01-13-46-43374da0-8d8d-482d-af9c-10d62e48fc94.gz',
    'firehose/2024/02/02/01/audit-message-batch-36-2024-02-02-01-28-07-6cd05b4c-cee9-495f-a5a4-2f1671342e3c.gz',
    'firehose/2024/02/02/01/audit-message-batch-36-2024-02-02-01-42-42-bbd74865-15c4-4215-b8bc-19cfaa660ee3.gz',
    'firehose/2024/02/02/01/audit-message-batch-36-2024-02-02-01-57-26-13c05da6-ff31-4400-9d56-80e18fe0577d.gz',
    'firehose/2024/02/02/02/audit-message-batch-36-2024-02-02-02-11-50-0af7b01f-fa18-4b13-9aee-e170a5af3113.gz',
    'firehose/2024/02/02/02/audit-message-batch-36-2024-02-02-02-26-13-a0a8195b-b2ff-440d-ac0d-e17147d6d4d1.gz',
    'firehose/2024/02/02/02/audit-message-batch-36-2024-02-02-02-40-41-0d2a4b1b-dc76-4e3f-a201-3df0a4f7af27.gz',
    'firehose/2024/02/02/02/audit-message-batch-36-2024-02-02-02-55-19-05b048aa-16c3-4dad-aeb1-1b6134c5bf4c.gz',
    'firehose/2024/02/02/03/audit-message-batch-36-2024-02-02-03-09-39-c7f20cd6-9112-4b9f-9166-42a8bcd7c881.gz',
    'firehose/2024/02/02/03/audit-message-batch-36-2024-02-02-03-24-00-3b2ec160-0f15-4b39-9e0b-9d200f4be2a1.gz',
    'firehose/2024/02/02/03/audit-message-batch-36-2024-02-02-03-38-29-cc1746e5-7ec7-42d2-9963-43e57ef83c69.gz',
    'firehose/2024/02/02/03/audit-message-batch-36-2024-02-02-03-52-44-619a0dc9-c6ee-4655-be61-7df42fccd390.gz',
    'firehose/2024/02/02/04/audit-message-batch-36-2024-02-02-04-07-07-c1c8e36b-e713-4b9d-b570-177c2102cfe0.gz',
    'firehose/2024/02/02/04/audit-message-batch-36-2024-02-02-04-21-27-632c3c05-f3f5-4ecc-b6e0-790b82926c1e.gz',
    'firehose/2024/02/02/04/audit-message-batch-36-2024-02-02-04-35-47-38edd331-8b17-4cf6-8a72-e0cadbdddba9.gz',
    'firehose/2024/02/02/04/audit-message-batch-36-2024-02-02-04-50-04-7d8a1140-d397-4e43-b474-22c4d01bffde.gz',
    'firehose/2024/02/02/05/audit-message-batch-36-2024-02-02-05-04-19-9dce7f41-0f1d-46a9-ab6a-db47f580d0ee.gz',
    'firehose/2024/02/02/05/audit-message-batch-36-2024-02-02-05-18-33-d5661ca7-5787-47cd-b417-d845f6563c74.gz',
    'firehose/2024/02/02/05/audit-message-batch-36-2024-02-02-05-32-46-a9fd9d04-0bfe-4db9-9bdf-d2e5162fa9b2.gz',
    'firehose/2024/02/02/05/audit-message-batch-36-2024-02-02-05-47-00-dd942561-4370-49f4-967b-00b797b4016e.gz',
    'firehose/2024/02/02/06/audit-message-batch-36-2024-02-02-06-01-17-3c8b95d3-0b2b-4f80-bb38-d45235dbd4c7.gz',
    'firehose/2024/02/02/06/audit-message-batch-36-2024-02-02-06-15-30-8dfd187a-fcf9-4ec6-ad38-0e0e6e7fd715.gz',
    'firehose/2024/02/02/06/audit-message-batch-36-2024-02-02-06-29-44-3866cc77-10e0-4e72-ac56-64c51f44025c.gz',
    'firehose/2024/02/02/06/audit-message-batch-36-2024-02-02-06-43-57-5019b7c3-1424-4cbd-a7f9-743b79a8eefd.gz',
    'firehose/2024/02/02/06/audit-message-batch-36-2024-02-02-06-58-11-ddcaa571-42c6-4373-b6e1-d8295fa5a24f.gz',
    'firehose/2024/02/02/07/audit-message-batch-36-2024-02-02-07-12-26-fe087bc5-0871-44ab-b0d4-78cc13049487.gz',
    'firehose/2024/02/02/07/audit-message-batch-36-2024-02-02-07-26-41-0beb0e98-0a87-4f3a-8299-7f42c43627b2.gz',
    'firehose/2024/02/02/07/audit-message-batch-36-2024-02-02-07-40-50-0925852a-48f9-437b-a4cb-752465b5e732.gz',
    'firehose/2024/02/02/07/audit-message-batch-36-2024-02-02-07-54-58-d503aaec-e210-4a79-9cad-cb3928c8a0c6.gz',
    'firehose/2024/02/02/08/audit-message-batch-36-2024-02-02-08-09-04-eb8031b8-6a6e-4fb0-89ba-f6b18858f384.gz',
    'firehose/2024/02/02/08/audit-message-batch-36-2024-02-02-08-23-10-88f8c6d6-0345-4183-961f-09f2415a4b73.gz',
    'firehose/2024/02/02/08/audit-message-batch-36-2024-02-02-08-37-17-8faacf58-aaa1-4958-9568-5f6d82a699a5.gz',
    'firehose/2024/02/02/08/audit-message-batch-36-2024-02-02-08-51-16-610736c0-7e2a-4afe-9f2f-b6c501101972.gz',
    'firehose/2024/02/02/09/audit-message-batch-36-2024-02-02-09-05-28-64cd456d-1067-4b7d-b72b-715549bbf51c.gz',
    'firehose/2024/02/02/09/audit-message-batch-36-2024-02-02-09-20-07-b202e9d3-19d7-4c53-aa12-79f82970108d.gz',
    'firehose/2024/02/02/09/audit-message-batch-36-2024-02-02-09-35-04-b2b00df4-9ec8-4788-bbb8-6bc587f08cd6.gz',
    'firehose/2024/02/02/09/audit-message-batch-36-2024-02-02-09-49-39-e9133a86-f68e-40da-8157-754358d86aca.gz',
    'firehose/2024/02/02/10/audit-message-batch-36-2024-02-02-10-04-34-b49cc6e6-5786-438f-8b6b-efed345936c1.gz',
    'firehose/2024/02/02/10/audit-message-batch-36-2024-02-02-10-19-27-c1bd4459-01a5-4bbb-9c86-d6fdb9906153.gz',
    'firehose/2024/02/02/10/audit-message-batch-36-2024-02-02-10-34-07-119b6e53-1d33-4a4c-b186-af305226a124.gz',
    'firehose/2024/02/02/10/audit-message-batch-36-2024-02-02-10-48-48-b5592be9-f3d4-42cf-8de0-34786e51c855.gz',
    'firehose/2024/02/02/11/audit-message-batch-36-2024-02-02-11-03-37-320d332e-ad51-40c8-927e-f8d87be10ffc.gz',
    'firehose/2024/02/02/11/audit-message-batch-36-2024-02-02-11-18-16-1b70af3c-e463-457e-950f-8f8b90293000.gz',
    'firehose/2024/02/02/11/audit-message-batch-36-2024-02-02-11-33-11-62fd13e6-8112-4591-be37-a3fd03b924c3.gz',
    'firehose/2024/02/02/11/audit-message-batch-36-2024-02-02-11-48-04-ffdbc4c4-356b-4d0c-9026-916f9f09da2e.gz',
    'firehose/2024/02/02/12/audit-message-batch-36-2024-02-02-12-02-54-b8a49ade-49d7-4c7e-b721-4463ceba4d7a.gz',
    'firehose/2024/02/02/12/audit-message-batch-36-2024-02-02-12-17-36-52a67aa5-9409-45d0-8e22-d3d9f070a6d5.gz',
    'firehose/2024/02/02/12/audit-message-batch-36-2024-02-02-12-32-04-28919f43-630c-411c-9e67-7ad774dc1d04.gz',
    'firehose/2024/02/02/12/audit-message-batch-36-2024-02-02-12-46-56-17ce9a4a-1d52-4405-9122-3ece0fd9fd46.gz',
    'firehose/2024/02/02/13/audit-message-batch-36-2024-02-02-13-01-25-81a4c789-70a2-40ca-8071-26b7e2d1f6c2.gz',
    'firehose/2024/02/02/13/audit-message-batch-36-2024-02-02-13-16-05-62b3ad6b-a8cf-4d36-ad44-324d22ae6416.gz',
    'firehose/2024/02/02/13/audit-message-batch-36-2024-02-02-13-31-03-25ae6ed3-33fe-4225-a352-e1e0f793ece4.gz',
    'firehose/2024/02/02/13/audit-message-batch-36-2024-02-02-13-45-30-01b60271-20c6-48b1-84b6-d24c489c1f20.gz',
    'firehose/2024/02/02/14/audit-message-batch-36-2024-02-02-14-00-21-c64db9f6-d745-496d-ad26-2ad4595abfc3.gz',
    'firehose/2024/02/02/14/audit-message-batch-36-2024-02-02-14-14-38-5e8c7cc8-9ea1-490c-93ff-3152c69a56ef.gz',
    'firehose/2024/02/02/14/audit-message-batch-36-2024-02-02-14-29-35-ced3df08-b0a9-409e-a092-851281e2f91e.gz',
    'firehose/2024/02/02/14/audit-message-batch-36-2024-02-02-14-44-30-8c1638ea-28c3-4e95-b96b-4b4d6249bf79.gz',
    'firehose/2024/02/02/14/audit-message-batch-36-2024-02-02-14-59-24-bc9bf6e5-1558-4fea-82c6-73436f7128e7.gz',
    'firehose/2024/02/02/15/audit-message-batch-36-2024-02-02-15-14-18-8a20fa05-03d5-4bc3-a80d-43276bc31a41.gz',
    'firehose/2024/02/02/15/audit-message-batch-36-2024-02-02-15-28-51-6c195bcc-93ba-400b-888d-c6a1f94f356e.gz',
    'firehose/2024/02/02/15/audit-message-batch-36-2024-02-02-15-43-34-e1a892cd-8c0a-439d-a938-b5e3eab28798.gz',
    'firehose/2024/02/02/15/audit-message-batch-36-2024-02-02-15-58-23-2ad8139e-1d51-4653-9be7-02d18f43cc5f.gz',
    'firehose/2024/02/02/16/audit-message-batch-36-2024-02-02-16-13-07-9a16f239-5307-414a-b7e7-dbb6de85cbaa.gz',
    'firehose/2024/02/02/16/audit-message-batch-36-2024-02-02-16-27-31-320f82b4-8478-4f64-a769-9df4abe3c262.gz',
    'firehose/2024/02/02/16/audit-message-batch-36-2024-02-02-16-42-03-6ce12f6b-846d-495a-93fc-937a992eea26.gz',
    'firehose/2024/02/02/16/audit-message-batch-36-2024-02-02-16-56-53-c994fc26-3747-4010-9f34-5560a0076d76.gz',
    'firehose/2024/02/02/17/audit-message-batch-36-2024-02-02-17-11-20-8c32008f-2b63-49c6-b551-1778c7aa4fb9.gz',
    'firehose/2024/02/02/17/audit-message-batch-36-2024-02-02-17-26-16-a0f20b06-6efd-4101-a823-78d665378b4d.gz',
    'firehose/2024/02/02/17/audit-message-batch-36-2024-02-02-17-40-30-62ec815f-abb8-4ef0-927f-c23a546d6d25.gz',
    'firehose/2024/02/02/17/audit-message-batch-36-2024-02-02-17-54-49-63995310-c307-4976-b4e4-217a28243abf.gz',
    'firehose/2024/02/02/18/audit-message-batch-36-2024-02-02-18-09-29-fd587f15-71ed-4f5f-a843-0b8503a96f1e.gz',
    'firehose/2024/02/02/18/audit-message-batch-36-2024-02-02-18-24-02-c96876c1-00a0-4313-b957-0d811b5b3a68.gz',
    'firehose/2024/02/02/18/audit-message-batch-36-2024-02-02-18-38-55-08eefd50-2c41-4df5-aad1-d87dd30ebc05.gz',
    'firehose/2024/02/02/18/audit-message-batch-36-2024-02-02-18-52-59-cafc32fc-40bb-433c-a542-be4557803e3c.gz',
    'firehose/2024/02/02/19/audit-message-batch-36-2024-02-02-19-07-03-81a4fc72-7e65-4c2e-84f2-dfd854192fda.gz',
    'firehose/2024/02/02/19/audit-message-batch-36-2024-02-02-19-21-09-0a07c044-abb8-4c15-a714-0249ecda9d81.gz',
    'firehose/2024/02/02/19/audit-message-batch-36-2024-02-02-19-35-59-65203085-83b9-4d55-9546-8b926e0b60ec.gz',
    'firehose/2024/02/02/19/audit-message-batch-36-2024-02-02-19-50-03-402051e1-a67f-400e-847a-9438cd43fda9.gz',
    'firehose/2024/02/02/20/audit-message-batch-36-2024-02-02-20-04-05-020882aa-10fb-43da-82d4-a0036814ddad.gz',
    'firehose/2024/02/02/20/audit-message-batch-36-2024-02-02-20-18-49-893b2c9f-8023-4a1a-b3cd-37c5138e7906.gz',
    'firehose/2024/02/02/20/audit-message-batch-36-2024-02-02-20-32-49-2732ad4a-eefa-4df5-9fec-cfacdfc8b1d2.gz',
    'firehose/2024/02/02/20/audit-message-batch-36-2024-02-02-20-46-55-abe4d307-7311-4f9c-bb39-391101c99517.gz',
    'firehose/2024/02/02/21/audit-message-batch-36-2024-02-02-21-00-57-66b88ff9-8f27-4037-9f12-71bb309e8cc3.gz',
    'firehose/2024/02/02/21/audit-message-batch-36-2024-02-02-21-15-38-d07d9c6f-4c28-4994-bffc-a72760fe0ebd.gz',
    'firehose/2024/02/02/21/audit-message-batch-36-2024-02-02-21-29-45-f1b42e91-2846-48a8-91cb-b9affc38b184.gz',
    'firehose/2024/02/02/21/audit-message-batch-36-2024-02-02-21-43-48-9d290dd6-ac26-41bd-9354-6002e5a6e38c.gz',
    'firehose/2024/02/02/21/audit-message-batch-36-2024-02-02-21-57-54-b87f0f8d-5706-40bc-ba46-ab1a1626189f.gz',
    'firehose/2024/02/02/22/audit-message-batch-36-2024-02-02-22-12-01-d61e724b-eacc-4ff8-9305-e5cce887368f.gz',
    'firehose/2024/02/02/22/audit-message-batch-36-2024-02-02-22-26-06-d9ecb291-c911-4355-bd99-fb06c1886d7b.gz',
    'firehose/2024/02/02/22/audit-message-batch-36-2024-02-02-22-40-14-c6d29f7f-acc8-4dbe-97b1-dd172718a506.gz',
    'firehose/2024/02/02/22/audit-message-batch-36-2024-02-02-22-54-20-5eb2ad88-8c22-44fe-890b-0b1e8365336b.gz',
    'firehose/2024/02/02/23/audit-message-batch-36-2024-02-02-23-08-27-4bacdcd0-1245-475a-9d36-b1970786ef03.gz',
    'firehose/2024/02/02/23/audit-message-batch-36-2024-02-02-23-22-38-1bf8d73b-71e1-42ef-b6f0-c8530f0fb272.gz',
    'firehose/2024/02/02/23/audit-message-batch-36-2024-02-02-23-36-50-6564e627-6408-46af-8c49-d3f9f957a76d.gz'
  ]
}

const s3 = new S3Client({ region: 'eu-west-2' })

export const expedite = async () => {
  const res = payload.glacierTierLocationsToCopy.map(async (obj) => {
    const restoreCommand: RestoreObjectCommandInput = {
      Bucket: 'audit-production-permanent-message-batch',
      Key: obj,
      RestoreRequest: {
        Days: 5,
        GlacierJobParameters: {
          Tier: 'Expedited'
        }
      }
    }
    const res = await s3.send(new RestoreObjectCommand(restoreCommand))
    console.log(
      'restored ' +
        obj +
        '. Response from restore command: ' +
        res.RestoreOutputPath
    )
  })

  await Promise.allSettled(res)
}

export const inspect = async () => {
  const promiseArray = payload.glacierTierLocationsToCopy.map(async (obj) => {
    const headCommand = {
      Bucket: 'audit-production-permanent-message-batch',
      Key: obj
    }

    const res = await s3.send(new HeadObjectCommand(headCommand))
    console.log('object: ' + obj + ' restore status: ' + res.Restore)
  })

  await Promise.allSettled(promiseArray)
}

inspect().then(() => {
  console.log('complete')
})
